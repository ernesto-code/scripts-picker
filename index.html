<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Script picker</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="alert" class="alert alert-success w-25 shadow-lg" role="alert"
        style="display:none; position: fixed;top:40%;left:35%">
        <i class="fa fa-exclamation-triangle fa-lg" aria-hidden="true"></i>Script copied to clipboard !
    </div>

    <main class="container" style="z-index: 1;">
        <h1 class="mt-3 mb-4 text-center">Script picker</h1>

        <div class="card">
            <div class="card-body">
                    <i class="fa fa-exclamation-triangle fa-lg text-danger" aria-hidden="true"></i> 
                    <span class="text-black-50">Do not run Axe or any other testing tool after applying any of these scripts.</span>
            </div>
          </div>

        <div class="row mt-5">
            
            <div class="col-5 pt-3">
                <h3>Others</h3> 
                <table class="table table-hover border table-striped ">
                    <tr class="p-2">
                        <td class="fw-normal"><span class="fs-6 ">UTY script</span></td>
                        <td><button class="btn btn-sm btn-primary" id="uty">Copy</button></td>
                    </tr>
                    <tr class="p-2">
                        <td class="fw-normal"><span class="fs-6 ">BBVA script</span> </td>
                        <td><button class="btn btn-sm btn-primary" id="bbva">Copy</button></td>
                    </tr>
                    <tr class="p-5">
                        <td class="fw-normal"><span class="fs-6 ">Color Contrast CSS props Script</span> </td>
                        <td><button class="btn btn-sm btn-primary" id="color-contrast-css-props">Copy</button></td>
                    </tr>
                    <tr class="p-5">
                        <td class="fw-normal"><span class="fs-6 ">Current focused element (any keypressed)</span> </td>
                        <td><button class="btn btn-sm btn-primary" id="current-focused-any-key">Copy</button></td>
                    </tr>
                    <tr class="p-5">
                        <td class="fw-normal"><span class="fs-6 ">Increase font size</span> </td>
                        <td><button class="btn btn-sm btn-primary" id="increase-font-size">Copy</button></td>
                    </tr>
                    <tr class="p-5">
                        <td class="fw-normal"><span class="fs-6 ">Text spacing</span> </td>
                        <td><button class="btn btn-sm btn-primary" id="text-spacing">Copy</button></td>
                    </tr>
                    <tr class="p-5">
                        <td class="fw-normal"><span class="fs-6 ">Click Marker</span> </td>
                        <td><button class="btn btn-sm btn-primary" id="click-marker">Copy</button></td>
                    </tr>
                </table>
            </div>
            <div class="col-5 pt-3">
                <h3>DOM Elements</h3>
                <table class="table table-hover border table-striped">
                    <tr class="p-2">
                        <td class="fw-normal"><span class="fs-6">Markers for HTML elements (tag name)</span> </td>
                        <td><button class="btn btn-sm btn-primary" id="show-markers-html" >Copy</button></td>
                    </tr>
                    <tr class="p-2">
                        <td class="fw-normal"><span class="fs-6">Markers for ARIA elements (role)</span> </td>
                        <td><button class="btn btn-sm btn-primary" id="show-markers-aria" >Copy</button></td>
                    </tr>
                     <tr class="p-2">
                        <td class="fw-normal"><span class="fs-6">Heading levels</span></td>
                        <td><button class="btn btn-sm btn-primary" id="show-heading-levels" >Copy</button></td>
                    </tr>
                    <tr class="p-2">
                        <td class="fw-normal"><span class="fs-6">Br finder</span> </td>
                        <td><button class="btn btn-sm btn-primary" id="show-br" >Copy</button></td>
                    </tr> 
                    <tr class="p-2">
                        <td class="fw-normal"><span class="fs-6">List and Listitems</span> </td>
                        <td><button class="btn btn-sm btn-primary" id="show-list" >Copy</button></td>
                    </tr>
                    <tr class="p-2">
                        <td class="fw-normal"><span class="fs-6">Live regions (role status included)</span> </td>
                        <td><button class="btn btn-sm btn-primary" id="show-live-regions" >Copy</button></td>
                    </tr>     
                    <tr class="p-2">
                        <td class="fw-normal"><span class="fs-6">Page title</span> </td>
                        <td><button class="btn btn-sm btn-primary" id="show-page-title" >Copy</button></td>
                    </tr>                
                </table>
            </div>

 

        </div>
    </main>
    <script>

        const alert = document.querySelector("#alert")

        // Functions
        const displayAlert = () => {
            alert.style.display = "block"
            setTimeout(() => { alert.style.display = "none" }, 1000)
        }

        // Handlers


        document.querySelector("#uty").addEventListener("click", () => {
            navigator.clipboard.writeText(`
            // Filter Layout
const targetElement = document.querySelector("#issueListTitle")
const newItem = document.createElement("div")
const itemsAmount = document.getElementsByTagName("table")[0].nextElementSibling

let checkbox = null
let selectComponent = null
var index;

newItem.style.padding = "1em"
newItem.style.outline = "rgb(6, 107, 177) 1px solid"

// Layout set and adding to DOM
newItem.innerHTML = 
    '
    <select id="select-component">
        <option disabled selected>Select a component</option>
        <option value='Smart'>Smart Assistant</option>
        <option value='Auth'>Auth Preferences</option>
        <option value='Marketplace'>Marketplace</option>
        <option value='Bank'>Bank Brand Card Apply</option>
    </select>
    <button id='clear-button'>Clear</button>
    <label style="display:inline;margin-left:3em;">
    <input type="checkbox" id="bold-text-checkbox" style="display:inline;"> Bolded titles</label>
    '
targetElement.insertAdjacentElement("afterend",newItem)




// Event listeners adding
setTimeout(()=>{
    checkbox = document.querySelector("#bold-text-checkbox")
    selectComponent = document.querySelector("#select-component")
    clearButton = document.querySelector("#clear-button")

    let obtenerDato = document.getElementsByTagName("td");
    let tableRows =   document.getElementsByTagName("tr");
    var tdArray = Array.prototype.slice.call(document.getElementsByTagName("td"))

    // Bolded text
    checkbox.addEventListener('click',()=>{
        var first;
        var second;
        let title = ''
        let titleDesc =''
        let arrTitle =[]
        for (index = 0; index < obtenerDato.length; index++ ){    
                if(obtenerDato[index].getAttribute('data-column-title')=='Title '){
                    first= obtenerDato[index].childNodes;    
                    second = first[3].childNodes; 
                    title = second[2].innerHTML
                    arrTitle = title.split('/')
                    if(checkbox.checked)
                        titleDesc = '<b>'+ arrTitle[arrTitle.length -1]+'</b>'
                    else
                        titleDesc = arrTitle[arrTitle.length -1]
                    arrTitle.pop()
                    arrTitle.push(titleDesc)
                    second[2].innerHTML = arrTitle.join('/')
                }
        }
        
    }),500

    clearButton.addEventListener('click',()=>{
        // Showing all issues
        console.log('showing ....')
        for (index = 1; index < tableRows.length; index++ ){    
            tableRows[index].style.display = 'table-row'
        }

    })
 // Display issues per selected component


    // Filter by components
    selectComponent.addEventListener('change',(event)=>{
        const selectElement = event.target
        let comps = []
        let title = null
        let comp = null
        let issuesCount = 0
        let selectedComp = selectElement.options[selectElement.selectedIndex].text
        let selectedValue = selectElement.value
        console.log(selectedComp)
        console.log(selectedValue)

        for (index = 1; index < tableRows.length; index++ ){    
            title = tableRows[index].children[1].children[0].children[0].innerText
            if(!title.includes(selectedValue))
                tableRows[index].style.display = 'none'   
            else 
                issuesCount++
        }
        itemsAmount.innerHTML = 'Showing '+issuesCount+' for <b>'+ selectedComp + '</b> component.'
    })




})

`);
            console.log("Copied!!!")
            displayAlert()
        })



        document.querySelector("#bbva").addEventListener("click", () => {
            navigator.clipboard.writeText(`(function(){
    'use strict';
    $(document).ready(function() {
        setInterval(function() {
            var button = $('span:contains("Seguir en bbva.es")');
            if (!!button[0]){
                button[0].click();
            }
        }, 5000);
    })
})();`);
            console.log("Copied!!!")
            displayAlert()
        })

        document.querySelector("#color-contrast-css-props").addEventListener("click", () => {
            navigator.clipboard.writeText(`// This scripts prints in console the font-size,font-weight and color of the tageted element that has been right-clicked on the page. The element might display a red background for a half of a second.

document.addEventListener("contextmenu", (event) => {
    const targetElement = event.target
    const bg = targetElement.style.background
    const hasMap = new Map([
        ["8px", "6pt"],
        ["9px", "7pt"],
        ["10px", "7.5pt"],
        ["11px", "8pt"],
        ["12px", "9pt"],
        ["13px", "10pt"],
        ["14px", "10.5pt"],
        ["15px", "11pt"],
        ["16px", "12pt"],
        ["17px", "13pt"],
        ["18px", "13.5pt"],
        ["19px", "14pt"],
        ["20px", "14.5pt"],
        ["21px", "15pt"],
        ["22px", "16pt"],
        ["23px", "17pt"],
        ["24px", "18pt"],
        ["26px", "20pt"],
        ["29px", "22pt"],
        ["32px", "24pt"],
        ["35px", "26pt"],
        ["36px", "27pt"],
        ["37px", "28pt"],
        ["38px", "29pt"],
        ["40px", "30pt"],
        ["42px", "32pt"],
        ["45px", "34pt"],
        ["48px", "36pt"]
    ])

    const color = window.getComputedStyle(targetElement, null).getPropertyValue('color')
    const fontSize = window.getComputedStyle(targetElement, null).getPropertyValue('font-size')
    const fontWeight = window.getComputedStyle(targetElement, null).getPropertyValue('font-weight')

    const pxToDts = (size) => {
        let value = ""

        if (!size.includes("."))
            return hasMap.get(size)
        else {
            value = size.slice(0, size.length - 2)
            return hasMap.get(Math.floor(Number(value)) + "px") + "(approx.)"
        }
    }

    targetElement.style.backgroundColor = "red"
    console.clear()
    console.log("Element: ", targetElement)
    console.log("COLOR: ", color)
    console.log("SIZE:", fontSize, "-", pxToDts(String(fontSize)))
    console.log("WEIGHT:", fontWeight, fontWeight >= 600 ? "(Bold)" : "(No Bold)")
    //console.log("%cThis is a green text", "color:green");

    setTimeout(() => { targetElement.style.background = bg }, 800)
})`)
            console.log("Copied!!!")
            displayAlert()
        })

        document.querySelector("#show-heading-levels").addEventListener("click", () => {
            navigator.clipboard.writeText(                
                `		const applyStyle = (elm, color)=>{
		elm.style.cssText = \'width: fit-content;height: fit-content;padding:10px;border-radius: 5px;background-color: red; color:white;outline: white thin solid;outline-offset: -2px;display:inline;font-size:15px;font-weight:normal;font-family:Arial, Helvetica, sans-serif;text-transform: capitalize;\'
	}

const headings = document.querySelectorAll("h1, h2, h3, h4, h5, h6")
const ariaHeadings = document.querySelectorAll("[role='heading']")
let span = null

headings.forEach(elm=>{
			span = document.createElement("span")
			span.innerText = elm.tagName
			applyStyle(span,"red")
			elm.parentElement.insertAdjacentElement("afterbegin",span)
			elm.style.outline = "red thin solid"
			
		})

ariaHeadings.forEach(elm=>{
				span = document.createElement("span")
				span.innerText = 'ARIA '+ elm.getAttribute("role")+' '+ elm.getAttribute("aria-level")
				applyStyle(span,"red")
				elm.insertAdjacentElement("afterbegin",span)
				elm.style.outline = "red thin solid"
				
			})
`)
            console.log("Copied!!!")
            displayAlert()
        })

        document.querySelector("#current-focused-any-key").addEventListener("click", () => {
            navigator.clipboard.writeText(`// This scripts Logs in console which element has teh focus when pressing any key 

document.addEventListener("keydown", (event) => {
            setTimeout(() => {
                console.clear()
                console.log("Current Focused Element:")
                console.log(document.activeElement)
            }, 55)
})
`)
            console.log("Copied!!!")
            displayAlert()
        })

        document.querySelector("#increase-font-size").addEventListener("click", () => {

            navigator.clipboard.writeText(`// This scripts increase the fontsize of the right-clicked element

document.addEventListener("contextmenu", (event) => {
    const targetElement = event.target
    const bg = targetElement.style.background
    targetElement.style.backgroundColor = "red"
    console.log(targetElement)
    targetElement.style.fontSize = "35px"
    setTimeout(() => { targetElement.style.background = bg }, 400)

})

`)
            console.log("Copied!!!")
            displayAlert()
        })
               
        document.querySelector("#text-spacing").addEventListener("click", () => {
        navigator.clipboard.writeText(`
            document.querySelectorAll("*").forEach((el)=>{
                el.style.setProperty('word-spacing','0.16em','important')
                el.style.setProperty('line-height','1.5','important')
                el.style.setProperty('letter-spacing','0.12em','important')
            
            })
        `)

        console.log("Copied!!!")
        displayAlert()
        })

        document.querySelector("#show-markers-html").addEventListener("click", () => {
        navigator.clipboard.writeText(`
        const applyStyle = (elm, color)=>{
		elm.style.cssText = \`
			width: fit-content;
			height: fit-content;
			padding:10px;
			border-radius: 5px;
			background-color: red; 
			color:white;
			outline: white thin solid;
			outline-offset: -2px;
			display:inline;
			font-size:15px;
			font-weight:normal
			font-family:Arial, Helvetica, sans-serif;
			text-transform: capitalize;
			\`
	}
    const markHTMLElements  = (text)=>{

let tagString = text
const tagArray = tagString.split(",")
let selectorArray = []
let selectorSTR = ""

tagArray.forEach(tag =>{
    selectorArray.push (tag)
})

selectorSTR = selectorArray.join(",")
console.log("Marking: "+selectorSTR.length+" elements")
console.log(selectorSTR)

const htmlElements = document.querySelectorAll(selectorSTR)
selectorArray = []
selectorSTR = ""

let span = null

htmlElements.forEach(elm=>{
        span = document.createElement("span")
        span.innerText = elm.tagName
        applyStyle(span,"red")
        elm.parentElement.insertAdjacentElement("afterbegin",span)
        elm.style.outline = "red thin solid"
        
    })

}

console.clear()

        `)

        console.log("Copied!!!")
        displayAlert()
        })

        document.querySelector("#show-markers-aria").addEventListener("click", () => {
        navigator.clipboard.writeText(`
        const applyStyle = (elm, color)=>{
		elm.style.cssText = \`
			width: fit-content;
			height: fit-content;
			padding:10px;
			border-radius: 5px;
			background-color: red; 
			color:white;
			outline: white thin solid;
			outline-offset: -2px;
			display:inline;
			font-size:15px;
			font-weight:normal
			font-family:Arial, Helvetica, sans-serif;
			text-transform: capitalize;
			\`
	}
    const markARIAElements  = (text)=>{

let rolesString = text
const rolesArray = rolesString.split(",")
let selectorArray = []
let selectorSTR = ""

rolesArray.forEach(role =>{
    selectorArray.push ("[role='"+role+"']")
})

selectorSTR = selectorArray.join(",")
console.log("Marking: "+selectorSTR.length+" elements")

const ariaElements = document.querySelectorAll(selectorSTR)
selectorArray = []
selectorSTR = ""

let span = null

ariaElements.forEach(elm=>{
        span = document.createElement("span")
        span.innerText = elm.getAttribute("role")
        applyStyle(span,"red")
        elm.insertAdjacentElement("afterbegin",span)
        elm.style.outline = "red thin solid"
        
    })
    
}
        `)

        console.log("Copied!!!")
        displayAlert()
        })

        document.querySelector("#show-list").addEventListener("click", () => {
        navigator.clipboard.writeText(`
        const applyStyle = (elm, color)=>{
		elm.style.cssText = \`
			width: fit-content;
			height: fit-content;
			padding:10px;
			border-radius: 5px;
			background-color: red; 
			color:white;
			outline: white thin solid;
			outline-offset: -2px;
			display:inline;
			font-size:15px;
			font-weight:normal
			font-family:Arial, Helvetica, sans-serif;
			text-transform: capitalize;
			\`
	}
    const markARIAElements  = (text)=>{

let rolesString = text
const rolesArray = rolesString.split(",")
let selectorArray = []
let selectorSTR = ""

rolesArray.forEach(role =>{
    selectorArray.push ("[role='"+role+"']")
})

selectorSTR = selectorArray.join(",")
console.log("Marking: "+selectorSTR.length+" elements")

const ariaElements = document.querySelectorAll(selectorSTR)
selectorArray = []
selectorSTR = ""

let span = null

ariaElements.forEach(elm=>{
        span = document.createElement("span")
        span.innerText = elm.getAttribute("role")
        applyStyle(span,"red")
        elm.insertAdjacentElement("afterbegin",span)
        elm.style.outline = "red thin solid"
        
    })
    console.clear()
}

const markHTMLElements  = (text)=>{

let tagString = text
const tagArray = tagString.split(",")
let selectorArray = []
let selectorSTR = ""

tagArray.forEach(tag =>{
    selectorArray.push (tag)
})

selectorSTR = selectorArray.join(",")
console.log("Marking: "+selectorSTR.length+" elements")
console.log(selectorSTR)

const htmlElements = document.querySelectorAll(selectorSTR)
selectorArray = []
selectorSTR = ""

let span = null

htmlElements.forEach(elm=>{
        span = document.createElement("span")
        span.innerText = elm.tagName
        applyStyle(span,"red")
        elm.parentElement.insertAdjacentElement("afterbegin",span)
        elm.style.outline = "red thin solid"
        
    })

}

console.clear()
markHTMLElements("li,ul,ol")
markARIAElements("list,listitem") 


        `)

        console.log("Copied!!!")
        displayAlert()
        })

        document.querySelector("#show-live-regions").addEventListener("click", () => {
        navigator.clipboard.writeText(`
        const applyStyle = (elm, color)=>{
		elm.style.cssText = \`
			width: fit-content;
			height: fit-content;
			padding:10px;
			border-radius: 5px;
			background-color: red; 
			color:white;
			outline: white thin solid;
			outline-offset: -2px;
			display:inline;
			font-size:15px;
			font-weight:normal
			font-family:Arial, Helvetica, sans-serif;
			text-transform: capitalize;
			\`
	}

	const htmlElements = document.querySelectorAll("[aria-live='polite'],[aria-live='assertive'],[role='status']")
 	let span = null

	htmlElements.forEach(elm=>{
			span = document.createElement("span")
			span.innerText = "Live"
			applyStyle(span,"red")
			elm.parentElement.insertAdjacentElement("afterbegin",span)
			elm.style.outline = "red thin solid"
			
		})
		
        `)

        console.log("Copied!!!")
        displayAlert()
        })

        document.querySelector("#show-page-title").addEventListener("click", () => {
        navigator.clipboard.writeText(`
        const applyStyle = (elm)=>{
		elm.style.cssText = \`
			width: fit-content;
			height: fit-content;
			position:fixed;
			top:20px;
			left:20px;
			padding:10px;
			border-radius: 5px;
			background-color: #fdab3d; 
			color:white;
			outline: white thin solid;
			outline-offset: -2px;
			display:inline;
			font-size:20px;
			font-weight:normal
			font-family:Arial, Helvetica, sans-serif;
			z-index: 100000;
			\`
	}

const titleElement = document.getElementsByTagName("title")[0]
let span = document.createElement("span")
span.innerText = "Title: " + titleElement.innerHTML
applyStyle(span)
document.getElementsByTagName("body")[0].insertAdjacentElement("afterbegin",span)	
        `)

        console.log("Copied!!!")
        displayAlert()
        })

        document.querySelector("#show-br").addEventListener("click", () => {
        navigator.clipboard.writeText(`
        const applyStyle = (elm, color)=>{
		elm.style.cssText = \`
			width: fit-content;
			height: fit-content;
			padding:10px;
			border-radius: 5px;
			background-color: red; 
			color:white;
			outline: white thin solid;
			outline-offset: -2px;
			display:inline;
			font-size:15px;
			font-weight:normal
			font-family:Arial, Helvetica, sans-serif;
			text-transform: capitalize;
			\`
	}
    const brElements = document.querySelectorAll("br")
    brElements.forEach(elm=>{
        span = document.createElement("span")
        span.innerText = elm.tagName
        applyStyle(span,"red")
        elm.parentElement.insertAdjacentElement("afterbegin",span)
        elm.style.outline = "red thin solid"
        
    })

console.clear()
        `)

        console.log("Copied!!!")
        displayAlert()
        })

    </script>
</body>

</html>