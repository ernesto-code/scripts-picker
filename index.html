<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Script picker</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
</head>

<body>

    <div id="alert" class="alert alert-success w-25 shadow-lg" role="alert"
        style="display:none; position: fixed;top:40%;left:35%">
        <i class="fa fa-exclamation-triangle fa-lg" aria-hidden="true"></i>Script copied to clipboard !
    </div>

    <main class="container" style="z-index: 1;">
        <h1 class="mt-3 text-center">Script picker</h1>

        <div class="row">
            <div class="col-3"></div>
            <div class="col-5 w-50 pt-3">
                <table class="table table-hover border">
                    <tr class="p-5">
                        <td class="fw-normal"><span class="fs-4 ">BBVA script</span> </td>
                        <td><button class="btn btn-primary" id="bbva">Copy</button></td>
                    </tr>
                    <tr class="p-5">
                        <td class="fw-normal"><span class="fs-4 ">Color Contrast CSS props Script</span> </td>
                        <td><button class="btn btn-primary" id="color-contrast-css-props">Copy</button></td>
                    </tr>
                    <tr class="p-5 bg-light">
                        <td class="fw-normal"><span class="fs-4 " style="color:#aaa">Show Heading levels</span> </td>
                        <td><button class="btn btn-primary" id="show-heading-levels" disabled>Copy</button></td>
                    </tr>
                    <tr class="p-5">
                        <td class="fw-normal"><span class="fs-4 ">Current focused element (any keypressed)</span> </td>
                        <td><button class="btn btn-primary" id="current-focused-any-key">Copy</button></td>
                    </tr>
                </table>
            </div>
            <div class="col-4"></div>
        </div>
    </main>
    <script>

        const alert = document.querySelector("#alert")
        // Functions
        const displayAlert = () => {
            alert.style.display = "block"
            setTimeout(() => { alert.style.display = "none" }, 1000)
        }

        // Handlers

        document.querySelector("#bbva").addEventListener("click", () => {
            navigator.clipboard.writeText(`(function(){
    'use strict';
    $(document).ready(function() {
        setInterval(function() {
            var button = $('span:contains("Seguir en bbva.es")');
            if (!!button[0]){
                button[0].click();
            }
        }, 5000);
    })
})();`);
            console.log("Copied!!!")
            displayAlert()
        })

        document.querySelector("#color-contrast-css-props").addEventListener("click", () => {
            navigator.clipboard.writeText(`// This scripts prints in console the font-size,font-weight and color of the tageted element that has been right-clicked on the page. The element might display a red background for a half of a second.

document.addEventListener("contextmenu", (event) => {
    const targetElement = event.target
    const bg = targetElement.style.background
    const hasMap = new Map([
        ["8px", "6pt"],
        ["9px", "7pt"],
        ["10px", "7.5pt"],
        ["11px", "8pt"],
        ["12px", "9pt"],
        ["13px", "10pt"],
        ["14px", "10.5pt"],
        ["15px", "11pt"],
        ["16px", "12pt"],
        ["17px", "13pt"],
        ["18px", "13.5pt"],
        ["19px", "14pt"],
        ["20px", "14.5pt"],
        ["21px", "15pt"],
        ["22px", "16pt"],
        ["23px", "17pt"],
        ["24px", "18pt"],
        ["26px", "20pt"],
        ["29px", "22pt"],
        ["32px", "24pt"],
        ["35px", "26pt"],
        ["36px", "27pt"],
        ["37px", "28pt"],
        ["38px", "29pt"],
        ["40px", "30pt"],
        ["42px", "32pt"],
        ["45px", "34pt"],
        ["48px", "36pt"]
    ])

    const color = window.getComputedStyle(targetElement, null).getPropertyValue('color')
    const fontSize = window.getComputedStyle(targetElement, null).getPropertyValue('font-size')
    const fontWeight = window.getComputedStyle(targetElement, null).getPropertyValue('font-weight')

    const pxToDts = (size) => {
        let value = ""

        if (!size.includes("."))
            return hasMap.get(size)
        else {
            value = size.slice(0, size.length - 2)
            return hasMap.get(Math.floor(Number(value)) + "px") + "(approx.)"
        }
    }

    targetElement.style.backgroundColor = "red"
    console.clear()
    console.log("Element: ", targetElement)
    console.log("COLOR: ", color)
    console.log("SIZE:", fontSize, "-", pxToDts(String(fontSize)))
    console.log("WEIGHT:", fontWeight, fontWeight >= 600 ? "(Bold)" : "(No Bold)")
    //console.log("%cThis is a green text", "color:green");

    setTimeout(() => { targetElement.style.background = bg }, 800)
})`)
            console.log("Copied!!!")
            displayAlert()
        })

        document.querySelector("#show-heading-levels").addEventListener("click", () => {
            navigator.clipboard.writeText(``)
            console.log("Copied!!!")
            displayAlert()
        })

        document.querySelector("#current-focused-any-key").addEventListener("click", () => {
            navigator.clipboard.writeText(`// This scripts Logs in console which element has 

document.addEventListener("keydown", (event) => {
            setTimeout(() => {
                console.clear()
                console.log("Current Focused Element:")
                console.log(document.activeElement)
            }, 55)
})
`)
            console.log("Copied!!!")
            displayAlert()
        })

    </script>
</body>

</html>